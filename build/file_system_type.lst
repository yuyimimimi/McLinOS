ARM GAS  /tmp/ccgCzCcH.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"file_system_type.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.file 1 "./fs/file_system_type.c"
  20              		.section	.text.unregister_filesystem,"ax",%progbits
  21              		.align	1
  22              		.global	unregister_filesystem
  23              		.syntax unified
  24              		.thumb
  25              		.thumb_func
  27              	unregister_filesystem:
  28              	.LVL0:
  29              	.LFB1034:
   1:./fs/file_system_type.c **** #include<linux/kernel.h>
   2:./fs/file_system_type.c **** #include <linux/list.h>
   3:./fs/file_system_type.c **** #include <linux/fs.h>
   4:./fs/file_system_type.c **** #include <linux/string.h>
   5:./fs/file_system_type.c **** 
   6:./fs/file_system_type.c **** 
   7:./fs/file_system_type.c **** struct file_system_type *fs_t = NULL;
   8:./fs/file_system_type.c **** 
   9:./fs/file_system_type.c **** int register_filesystem(struct file_system_type *ft)
  10:./fs/file_system_type.c **** {
  11:./fs/file_system_type.c ****     if(ft == NULL) return -1;
  12:./fs/file_system_type.c ****     pr_info("register file system: %s\n",ft->name);
  13:./fs/file_system_type.c ****     struct file_system_type **p;
  14:./fs/file_system_type.c ****     for (p = &fs_t; *p; p = &(*p)->next) {
  15:./fs/file_system_type.c ****         if (strcmp((*p)->name, ft->name) == 0)
  16:./fs/file_system_type.c ****             return -EEXIST; 
  17:./fs/file_system_type.c ****     }
  18:./fs/file_system_type.c ****     ft->next = fs_t;
  19:./fs/file_system_type.c ****     fs_t = ft;
  20:./fs/file_system_type.c ****     return 0;
  21:./fs/file_system_type.c **** }
  22:./fs/file_system_type.c **** EXPORT_SYMBOL(register_filesystem);
  23:./fs/file_system_type.c **** 
  24:./fs/file_system_type.c **** int unregister_filesystem(struct file_system_type *ft)
  25:./fs/file_system_type.c **** {
  30              		.loc 1 25 1 view -0
  31              		.cfi_startproc
  32              		@ args = 0, pretend = 0, frame = 0
  33              		@ frame_needed = 0, uses_anonymous_args = 0
ARM GAS  /tmp/ccgCzCcH.s 			page 2


  34              		@ link register save eliminated.
  26:./fs/file_system_type.c ****     struct file_system_type **p;
  35              		.loc 1 26 5 view .LVU1
  27:./fs/file_system_type.c ****     for (p = &fs_t; *p; p = &(*p)->next) {
  36              		.loc 1 27 5 view .LVU2
  37              		.loc 1 27 12 is_stmt 0 view .LVU3
  38 0000 074A     		ldr	r2, .L7
  39              		.loc 1 27 5 view .LVU4
  40 0002 01E0     		b	.L2
  41              	.LVL1:
  42              	.L3:
  43              		.loc 1 27 27 is_stmt 1 discriminator 2 view .LVU5
  44 0004 03F11C02 		add	r2, r3, #28
  45              	.LVL2:
  46              	.L2:
  47              		.loc 1 27 21 discriminator 1 view .LVU6
  48 0008 1368     		ldr	r3, [r2]
  49 000a 2BB1     		cbz	r3, .L6
  28:./fs/file_system_type.c ****         if (*p == ft) {
  50              		.loc 1 28 9 view .LVU7
  51              		.loc 1 28 12 is_stmt 0 view .LVU8
  52 000c 8342     		cmp	r3, r0
  53 000e F9D1     		bne	.L3
  29:./fs/file_system_type.c ****             *p = ft->next; 
  54              		.loc 1 29 13 is_stmt 1 view .LVU9
  55              		.loc 1 29 20 is_stmt 0 view .LVU10
  56 0010 C369     		ldr	r3, [r0, #28]
  57              		.loc 1 29 16 view .LVU11
  58 0012 1360     		str	r3, [r2]
  30:./fs/file_system_type.c ****             return 0;
  59              		.loc 1 30 13 is_stmt 1 view .LVU12
  60              		.loc 1 30 20 is_stmt 0 view .LVU13
  61 0014 0020     		movs	r0, #0
  62              	.LVL3:
  63              		.loc 1 30 20 view .LVU14
  64 0016 7047     		bx	lr
  65              	.LVL4:
  66              	.L6:
  31:./fs/file_system_type.c ****         }
  32:./fs/file_system_type.c ****     }
  33:./fs/file_system_type.c ****     return -EINVAL;
  67              		.loc 1 33 12 view .LVU15
  68 0018 6FF01500 		mvn	r0, #21
  69              	.LVL5:
  34:./fs/file_system_type.c **** }
  70              		.loc 1 34 1 view .LVU16
  71 001c 7047     		bx	lr
  72              	.L8:
  73 001e 00BF     		.align	2
  74              	.L7:
  75 0020 00000000 		.word	fs_t
  76              		.cfi_endproc
  77              	.LFE1034:
  79              		.section	.rodata.register_filesystem.str1.4,"aMS",%progbits,1
  80              		.align	2
  81              	.LC0:
  82 0000 72656769 		.ascii	"register file system: %s\012\000"
ARM GAS  /tmp/ccgCzCcH.s 			page 3


  82      73746572 
  82      2066696C 
  82      65207379 
  82      7374656D 
  83              		.section	.text.register_filesystem,"ax",%progbits
  84              		.align	1
  85              		.global	register_filesystem
  86              		.syntax unified
  87              		.thumb
  88              		.thumb_func
  90              	register_filesystem:
  91              	.LVL6:
  92              	.LFB1033:
  10:./fs/file_system_type.c ****     if(ft == NULL) return -1;
  93              		.loc 1 10 1 is_stmt 1 view -0
  94              		.cfi_startproc
  95              		@ args = 0, pretend = 0, frame = 0
  96              		@ frame_needed = 0, uses_anonymous_args = 0
  11:./fs/file_system_type.c ****     pr_info("register file system: %s\n",ft->name);
  97              		.loc 1 11 5 view .LVU18
  11:./fs/file_system_type.c ****     pr_info("register file system: %s\n",ft->name);
  98              		.loc 1 11 7 is_stmt 0 view .LVU19
  99 0000 C8B1     		cbz	r0, .L13
  10:./fs/file_system_type.c ****     if(ft == NULL) return -1;
 100              		.loc 1 10 1 view .LVU20
 101 0002 38B5     		push	{r3, r4, r5, lr}
 102              	.LCFI0:
 103              		.cfi_def_cfa_offset 16
 104              		.cfi_offset 3, -16
 105              		.cfi_offset 4, -12
 106              		.cfi_offset 5, -8
 107              		.cfi_offset 14, -4
 108 0004 0546     		mov	r5, r0
  12:./fs/file_system_type.c ****     struct file_system_type **p;
 109              		.loc 1 12 5 is_stmt 1 view .LVU21
 110 0006 0168     		ldr	r1, [r0]
 111 0008 0C48     		ldr	r0, .L21
 112              	.LVL7:
  12:./fs/file_system_type.c ****     struct file_system_type **p;
 113              		.loc 1 12 5 is_stmt 0 view .LVU22
 114 000a FFF7FEFF 		bl	printk
 115              	.LVL8:
  13:./fs/file_system_type.c ****     for (p = &fs_t; *p; p = &(*p)->next) {
 116              		.loc 1 13 5 is_stmt 1 view .LVU23
  14:./fs/file_system_type.c ****         if (strcmp((*p)->name, ft->name) == 0)
 117              		.loc 1 14 5 view .LVU24
  14:./fs/file_system_type.c ****         if (strcmp((*p)->name, ft->name) == 0)
 118              		.loc 1 14 12 is_stmt 0 view .LVU25
 119 000e 0C4C     		ldr	r4, .L21+4
  14:./fs/file_system_type.c ****         if (strcmp((*p)->name, ft->name) == 0)
 120              		.loc 1 14 5 view .LVU26
 121 0010 00E0     		b	.L11
 122              	.LVL9:
 123              	.L20:
  14:./fs/file_system_type.c ****         if (strcmp((*p)->name, ft->name) == 0)
 124              		.loc 1 14 27 is_stmt 1 discriminator 2 view .LVU27
 125 0012 1C34     		adds	r4, r4, #28
ARM GAS  /tmp/ccgCzCcH.s 			page 4


 126              	.LVL10:
 127              	.L11:
  14:./fs/file_system_type.c ****         if (strcmp((*p)->name, ft->name) == 0)
 128              		.loc 1 14 21 discriminator 1 view .LVU28
 129 0014 2468     		ldr	r4, [r4]
 130              	.LVL11:
  14:./fs/file_system_type.c ****         if (strcmp((*p)->name, ft->name) == 0)
 131              		.loc 1 14 21 is_stmt 0 discriminator 1 view .LVU29
 132 0016 44B1     		cbz	r4, .L19
  15:./fs/file_system_type.c ****             return -EEXIST; 
 133              		.loc 1 15 9 is_stmt 1 view .LVU30
  15:./fs/file_system_type.c ****             return -EEXIST; 
 134              		.loc 1 15 13 is_stmt 0 view .LVU31
 135 0018 2968     		ldr	r1, [r5]
 136 001a 2068     		ldr	r0, [r4]
 137 001c FFF7FEFF 		bl	strcmp
 138              	.LVL12:
  15:./fs/file_system_type.c ****             return -EEXIST; 
 139              		.loc 1 15 12 discriminator 1 view .LVU32
 140 0020 0028     		cmp	r0, #0
 141 0022 F6D1     		bne	.L20
  16:./fs/file_system_type.c ****     }
 142              		.loc 1 16 20 view .LVU33
 143 0024 6FF01000 		mvn	r0, #16
 144 0028 04E0     		b	.L9
 145              	.L19:
  18:./fs/file_system_type.c ****     fs_t = ft;
 146              		.loc 1 18 5 is_stmt 1 view .LVU34
  18:./fs/file_system_type.c ****     fs_t = ft;
 147              		.loc 1 18 14 is_stmt 0 view .LVU35
 148 002a 054B     		ldr	r3, .L21+4
 149 002c 1A68     		ldr	r2, [r3]
 150 002e EA61     		str	r2, [r5, #28]
  19:./fs/file_system_type.c ****     return 0;
 151              		.loc 1 19 5 is_stmt 1 view .LVU36
  19:./fs/file_system_type.c ****     return 0;
 152              		.loc 1 19 10 is_stmt 0 view .LVU37
 153 0030 1D60     		str	r5, [r3]
  20:./fs/file_system_type.c **** }
 154              		.loc 1 20 5 is_stmt 1 view .LVU38
  20:./fs/file_system_type.c **** }
 155              		.loc 1 20 12 is_stmt 0 view .LVU39
 156 0032 0020     		movs	r0, #0
 157              	.L9:
  21:./fs/file_system_type.c **** EXPORT_SYMBOL(register_filesystem);
 158              		.loc 1 21 1 view .LVU40
 159 0034 38BD     		pop	{r3, r4, r5, pc}
 160              	.LVL13:
 161              	.L13:
 162              	.LCFI1:
 163              		.cfi_def_cfa_offset 0
 164              		.cfi_restore 3
 165              		.cfi_restore 4
 166              		.cfi_restore 5
 167              		.cfi_restore 14
  11:./fs/file_system_type.c ****     pr_info("register file system: %s\n",ft->name);
 168              		.loc 1 11 27 discriminator 1 view .LVU41
ARM GAS  /tmp/ccgCzCcH.s 			page 5


 169 0036 4FF0FF30 		mov	r0, #-1
 170              	.LVL14:
  21:./fs/file_system_type.c **** EXPORT_SYMBOL(register_filesystem);
 171              		.loc 1 21 1 view .LVU42
 172 003a 7047     		bx	lr
 173              	.L22:
 174              		.align	2
 175              	.L21:
 176 003c 00000000 		.word	.LC0
 177 0040 00000000 		.word	fs_t
 178              		.cfi_endproc
 179              	.LFE1033:
 181              		.section	.text.lookup_fs_type,"ax",%progbits
 182              		.align	1
 183              		.global	lookup_fs_type
 184              		.syntax unified
 185              		.thumb
 186              		.thumb_func
 188              	lookup_fs_type:
 189              	.LVL15:
 190              	.LFB1035:
  35:./fs/file_system_type.c **** EXPORT_SYMBOL(unregister_filesystem);
  36:./fs/file_system_type.c **** 
  37:./fs/file_system_type.c **** struct file_system_type *lookup_fs_type(const char *name)
  38:./fs/file_system_type.c **** {
 191              		.loc 1 38 1 is_stmt 1 view -0
 192              		.cfi_startproc
 193              		@ args = 0, pretend = 0, frame = 0
 194              		@ frame_needed = 0, uses_anonymous_args = 0
 195              		.loc 1 38 1 is_stmt 0 view .LVU44
 196 0000 38B5     		push	{r3, r4, r5, lr}
 197              	.LCFI2:
 198              		.cfi_def_cfa_offset 16
 199              		.cfi_offset 3, -16
 200              		.cfi_offset 4, -12
 201              		.cfi_offset 5, -8
 202              		.cfi_offset 14, -4
 203 0002 0546     		mov	r5, r0
  39:./fs/file_system_type.c ****     struct file_system_type *p;
 204              		.loc 1 39 5 is_stmt 1 view .LVU45
  40:./fs/file_system_type.c ****     
  41:./fs/file_system_type.c ****     for (p = fs_t; p; p = p->next) {
 205              		.loc 1 41 5 view .LVU46
 206              		.loc 1 41 12 is_stmt 0 view .LVU47
 207 0004 064B     		ldr	r3, .L29
 208 0006 1C68     		ldr	r4, [r3]
 209              	.LVL16:
 210              		.loc 1 41 5 view .LVU48
 211 0008 00E0     		b	.L24
 212              	.LVL17:
 213              	.L28:
 214              		.loc 1 41 25 is_stmt 1 discriminator 2 view .LVU49
 215 000a E469     		ldr	r4, [r4, #28]
 216              	.LVL18:
 217              	.L24:
 218              		.loc 1 41 20 discriminator 1 view .LVU50
 219 000c 2CB1     		cbz	r4, .L23
ARM GAS  /tmp/ccgCzCcH.s 			page 6


  42:./fs/file_system_type.c ****         if (strcmp(p->name, name) == 0)
 220              		.loc 1 42 9 view .LVU51
 221              		.loc 1 42 13 is_stmt 0 view .LVU52
 222 000e 2946     		mov	r1, r5
 223 0010 2068     		ldr	r0, [r4]
 224 0012 FFF7FEFF 		bl	strcmp
 225              	.LVL19:
 226              		.loc 1 42 12 discriminator 1 view .LVU53
 227 0016 0028     		cmp	r0, #0
 228 0018 F7D1     		bne	.L28
 229              	.L23:
  43:./fs/file_system_type.c ****             return p;
  44:./fs/file_system_type.c ****     }
  45:./fs/file_system_type.c ****     return NULL;
  46:./fs/file_system_type.c **** }
 230              		.loc 1 46 1 view .LVU54
 231 001a 2046     		mov	r0, r4
 232 001c 38BD     		pop	{r3, r4, r5, pc}
 233              	.LVL20:
 234              	.L30:
 235              		.loc 1 46 1 view .LVU55
 236 001e 00BF     		.align	2
 237              	.L29:
 238 0020 00000000 		.word	fs_t
 239              		.cfi_endproc
 240              	.LFE1035:
 242              		.section	.rodata.str1.4,"aMS",%progbits,1
 243              		.align	2
 244              	.LC1:
 245 0000 6C6F6F6B 		.ascii	"lookup_fs_type\000"
 245      75705F66 
 245      735F7479 
 245      706500
 246 000f 00       		.align	2
 247              	.LC2:
 248 0010 00       		.ascii	"\000"
 249              		.section	.export_table,"aw"
 250              		.align	2
 253              	lookup_fs_type_export_struct:
 254 0000 00000000 		.word	.LC1
 255 0004 10000000 		.word	.LC2
 256 0008 00000000 		.word	lookup_fs_type
 257              		.section	.rodata.str1.4
 258 0011 000000   		.align	2
 259              	.LC3:
 260 0014 756E7265 		.ascii	"unregister_filesystem\000"
 260      67697374 
 260      65725F66 
 260      696C6573 
 260      79737465 
 261              		.section	.export_table
 262              		.align	2
 265              	unregister_filesystem_export_struct:
 266 000c 14000000 		.word	.LC3
 267 0010 10000000 		.word	.LC2
 268 0014 00000000 		.word	unregister_filesystem
 269              		.section	.rodata.str1.4
ARM GAS  /tmp/ccgCzCcH.s 			page 7


 270 002a 0000     		.align	2
 271              	.LC4:
 272 002c 72656769 		.ascii	"register_filesystem\000"
 272      73746572 
 272      5F66696C 
 272      65737973 
 272      74656D00 
 273              		.section	.export_table
 274              		.align	2
 277              	register_filesystem_export_struct:
 278 0018 2C000000 		.word	.LC4
 279 001c 10000000 		.word	.LC2
 280 0020 00000000 		.word	register_filesystem
 281              		.global	fs_t
 282              		.section	.bss.fs_t,"aw",%nobits
 283              		.align	2
 286              	fs_t:
 287 0000 00000000 		.space	4
 288              		.text
 289              	.Letext0:
 290              		.file 2 "./include/asm-generic/int-l64.h"
 291              		.file 3 "./include/asm-generic/posix_types.h"
 292              		.file 4 "./include/uapi/linux/types.h"
 293              		.file 5 "./include/linux/types.h"
 294              		.file 6 "./include/linux/export.h"
 295              		.file 7 "./include/linux/errseq.h"
 296              		.file 8 "./include/linux/time64.h"
 297              		.file 9 "./arch/arm_m/include/asm/spinlock.h"
 298              		.file 10 "./include/linux/lockdep_types.h"
 299              		.file 11 "./include/linux/spinlock_types_raw.h"
 300              		.file 12 "./include/linux/spinlock_types.h"
 301              		.file 13 "./include/linux/rbtree_types.h"
 302              		.file 14 "./include/linux/uidgid_types.h"
 303              		.file 15 "./include/linux/projid.h"
 304              		.file 16 "./include/linux/fs.h"
 305              		.file 17 "./include/linux/mnt_idmapping.h"
 306              		.file 18 "./include/linux/mutex.h"
 307              		.file 19 "./include/linux/uio.h"
 308              		.file 20 "./include/linux/wait.h"
 309              		.file 21 "./include/linux/xarray.h"
 310              		.file 22 "./include/linux/migrate_mode.h"
 311              		.file 23 "./include/linux/rw_hint.h"
 312              		.file 24 "./include/linux/reciprocal_div.h"
 313              		.file 25 "./include/linux/slab.h"
 314              		.file 26 "./include/linux/mm_type.h"
 315              		.file 27 "./include/linux/bvec.h"
 316              		.file 28 "./include/linux/blk_types.h"
 317              		.file 29 "./include/linux/blkdev.h"
 318              		.file 30 "./include/linux/bio.h"
 319              		.file 31 "./include/linux/mempool_super_haper.h"
 320              		.file 32 "./include/linux/mempool.h"
 321              		.file 33 "./include/linux/workqueue_types.h"
 322              		.file 34 "./include/linux/blk-mq.h"
 323              		.file 35 "./include/linux/dcache.h"
 324              		.file 36 "./include/uapi/linux/pr.h"
 325              		.file 37 "./include/linux/pr.h"
 326              		.file 38 "./include/linux/hdreg.h"
ARM GAS  /tmp/ccgCzCcH.s 			page 8


 327              		.file 39 "./include/linux/lockref.h"
 328              		.file 40 "./include/linux/path.h"
 329              		.file 41 "./include/linux/statfs.h"
 330              		.file 42 "./include/linux/stat.h"
 331              		.file 43 "./arch/arm_m/include/asm/string.h"
 332              		.file 44 "./include/linux/printk.h"
ARM GAS  /tmp/ccgCzCcH.s 			page 9


DEFINED SYMBOLS
                            *ABS*:00000000 file_system_type.c
     /tmp/ccgCzCcH.s:21     .text.unregister_filesystem:00000000 $t
     /tmp/ccgCzCcH.s:27     .text.unregister_filesystem:00000000 unregister_filesystem
     /tmp/ccgCzCcH.s:75     .text.unregister_filesystem:00000020 $d
     /tmp/ccgCzCcH.s:286    .bss.fs_t:00000000 fs_t
     /tmp/ccgCzCcH.s:80     .rodata.register_filesystem.str1.4:00000000 $d
     /tmp/ccgCzCcH.s:84     .text.register_filesystem:00000000 $t
     /tmp/ccgCzCcH.s:90     .text.register_filesystem:00000000 register_filesystem
     /tmp/ccgCzCcH.s:176    .text.register_filesystem:0000003c $d
     /tmp/ccgCzCcH.s:182    .text.lookup_fs_type:00000000 $t
     /tmp/ccgCzCcH.s:188    .text.lookup_fs_type:00000000 lookup_fs_type
     /tmp/ccgCzCcH.s:238    .text.lookup_fs_type:00000020 $d
     /tmp/ccgCzCcH.s:243    .rodata.str1.4:00000000 $d
     /tmp/ccgCzCcH.s:250    .export_table:00000000 $d
     /tmp/ccgCzCcH.s:253    .export_table:00000000 lookup_fs_type_export_struct
     /tmp/ccgCzCcH.s:265    .export_table:0000000c unregister_filesystem_export_struct
     /tmp/ccgCzCcH.s:277    .export_table:00000018 register_filesystem_export_struct
     /tmp/ccgCzCcH.s:283    .bss.fs_t:00000000 $d

UNDEFINED SYMBOLS
printk
strcmp
