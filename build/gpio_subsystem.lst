ARM GAS  /tmp/cctqsz9G.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"gpio_subsystem.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.file 1 "./lib/gpio_subsystem.c"
  20              		.section	.rodata.gpio_subsystem_init.str1.4,"aMS",%progbits,1
  21              		.align	2
  22              	.LC0:
  23 0000 2F646576 		.ascii	"/dev/gpios\000"
  23      2F677069 
  23      6F7300
  24 000b 00       		.align	2
  25              	.LC1:
  26 000c 4661696C 		.ascii	"Failed to open GPIO device\012\000"
  26      65642074 
  26      6F206F70 
  26      656E2047 
  26      50494F20 
  27              		.section	.text.gpio_subsystem_init,"ax",%progbits
  28              		.align	1
  29              		.global	gpio_subsystem_init
  30              		.syntax unified
  31              		.thumb
  32              		.thumb_func
  34              	gpio_subsystem_init:
  35              	.LFB962:
   1:./lib/gpio_subsystem.c **** #include <linux/gpio_subsystem.h>
   2:./lib/gpio_subsystem.c **** #include <linux/fs.h>
   3:./lib/gpio_subsystem.c **** #include <linux/printk.h>
   4:./lib/gpio_subsystem.c **** #include <linux/gpio/gpio.h>
   5:./lib/gpio_subsystem.c **** 
   6:./lib/gpio_subsystem.c **** static struct file *gpio_file = NULL;
   7:./lib/gpio_subsystem.c **** 
   8:./lib/gpio_subsystem.c **** int gpio_subsystem_init(void)
   9:./lib/gpio_subsystem.c **** {
  36              		.loc 1 9 1 view -0
  37              		.cfi_startproc
  38              		@ args = 0, pretend = 0, frame = 0
  39              		@ frame_needed = 0, uses_anonymous_args = 0
  40 0000 08B5     		push	{r3, lr}
  41              	.LCFI0:
  42              		.cfi_def_cfa_offset 8
  43              		.cfi_offset 3, -8
ARM GAS  /tmp/cctqsz9G.s 			page 2


  44              		.cfi_offset 14, -4
  10:./lib/gpio_subsystem.c ****     gpio_file = filp_open("/dev/gpios", O_RDWR, 0);
  45              		.loc 1 10 5 view .LVU1
  46              		.loc 1 10 17 is_stmt 0 view .LVU2
  47 0002 0022     		movs	r2, #0
  48 0004 0221     		movs	r1, #2
  49 0006 0948     		ldr	r0, .L5
  50 0008 FFF7FEFF 		bl	filp_open
  51              	.LVL0:
  52              		.loc 1 10 15 discriminator 1 view .LVU3
  53 000c 084B     		ldr	r3, .L5+4
  54 000e 1860     		str	r0, [r3]
  11:./lib/gpio_subsystem.c ****     if (IS_ERR(gpio_file)) {
  55              		.loc 1 11 5 is_stmt 1 view .LVU4
  56              	.LVL1:
  57              	.LBB6:
  58              	.LBI6:
  59              		.file 2 "./include/linux/err.h"
   1:./include/linux/err.h **** /* SPDX-License-Identifier: GPL-2.0 */
   2:./include/linux/err.h **** #ifndef _LINUX_ERR_H
   3:./include/linux/err.h **** #define _LINUX_ERR_H
   4:./include/linux/err.h **** 
   5:./include/linux/err.h **** #include <linux/compiler_attributes.h>
   6:./include/linux/err.h **** #include <linux/compiler.h>
   7:./include/linux/err.h **** #include <linux/types.h>
   8:./include/linux/err.h **** 
   9:./include/linux/err.h **** #include <asm/errno.h>
  10:./include/linux/err.h **** 
  11:./include/linux/err.h **** /*
  12:./include/linux/err.h ****  * Kernel pointers have redundant information, so we can use a
  13:./include/linux/err.h ****  * scheme where we can return either an error code or a normal
  14:./include/linux/err.h ****  * pointer with the same return value.
  15:./include/linux/err.h ****  *
  16:./include/linux/err.h ****  * This should be a per-architecture thing, to allow different
  17:./include/linux/err.h ****  * error and pointer decisions.
  18:./include/linux/err.h ****  */
  19:./include/linux/err.h **** #define MAX_ERRNO	4095
  20:./include/linux/err.h **** 
  21:./include/linux/err.h **** #ifndef __ASSEMBLY__
  22:./include/linux/err.h **** 
  23:./include/linux/err.h **** /**
  24:./include/linux/err.h ****  * IS_ERR_VALUE - Detect an error pointer.
  25:./include/linux/err.h ****  * @x: The pointer to check.
  26:./include/linux/err.h ****  *
  27:./include/linux/err.h ****  * Like IS_ERR(), but does not generate a compiler warning if result is unused.
  28:./include/linux/err.h ****  */
  29:./include/linux/err.h **** 
  30:./include/linux/err.h **** #ifndef unlikely
  31:./include/linux/err.h **** #  define unlikely(x) __builtin_expect(!!(x), 0)
  32:./include/linux/err.h **** #endif
  33:./include/linux/err.h **** 
  34:./include/linux/err.h **** #ifndef likely
  35:./include/linux/err.h **** #  define likely(x) __builtin_expect(!!(x), 1)
  36:./include/linux/err.h **** #endif
  37:./include/linux/err.h **** 
  38:./include/linux/err.h **** #define IS_ERR_VALUE(x) unlikely((unsigned long)(void *)(x) >= (unsigned long)-MAX_ERRNO)
  39:./include/linux/err.h **** 
ARM GAS  /tmp/cctqsz9G.s 			page 3


  40:./include/linux/err.h **** /**
  41:./include/linux/err.h ****  * ERR_PTR - Create an error pointer.
  42:./include/linux/err.h ****  * @error: A negative error code.
  43:./include/linux/err.h ****  *
  44:./include/linux/err.h ****  * Encodes @error into a pointer value. Users should consider the result
  45:./include/linux/err.h ****  * opaque and not assume anything about how the error is encoded.
  46:./include/linux/err.h ****  *
  47:./include/linux/err.h ****  * Return: A pointer with @error encoded within its value.
  48:./include/linux/err.h ****  */
  49:./include/linux/err.h **** static inline void * __must_check ERR_PTR(long error)
  50:./include/linux/err.h **** {
  51:./include/linux/err.h **** 	return (void *) error;
  52:./include/linux/err.h **** }
  53:./include/linux/err.h **** 
  54:./include/linux/err.h **** /* Return the pointer in the percpu address space. */
  55:./include/linux/err.h **** #define ERR_PTR_PCPU(error) ((void __percpu *)(unsigned long)ERR_PTR(error))
  56:./include/linux/err.h **** 
  57:./include/linux/err.h **** /**
  58:./include/linux/err.h ****  * PTR_ERR - Extract the error code from an error pointer.
  59:./include/linux/err.h ****  * @ptr: An error pointer.
  60:./include/linux/err.h ****  * Return: The error code within @ptr.
  61:./include/linux/err.h ****  */
  62:./include/linux/err.h **** static inline long __must_check PTR_ERR(__force const void *ptr)
  63:./include/linux/err.h **** {
  64:./include/linux/err.h **** 	return (long) ptr;
  65:./include/linux/err.h **** }
  66:./include/linux/err.h **** 
  67:./include/linux/err.h **** /* Read an error pointer from the percpu address space. */
  68:./include/linux/err.h **** #define PTR_ERR_PCPU(ptr) (PTR_ERR((const void *)(__force const unsigned long)(ptr)))
  69:./include/linux/err.h **** 
  70:./include/linux/err.h **** /**
  71:./include/linux/err.h ****  * IS_ERR - Detect an error pointer.
  72:./include/linux/err.h ****  * @ptr: The pointer to check.
  73:./include/linux/err.h ****  * Return: true if @ptr is an error pointer, false otherwise.
  74:./include/linux/err.h ****  */
  75:./include/linux/err.h **** static inline bool __must_check IS_ERR(__force const void *ptr)
  60              		.loc 2 75 33 view .LVU5
  61              	.LBB7:
  76:./include/linux/err.h **** {
  77:./include/linux/err.h **** 	return IS_ERR_VALUE((unsigned long)ptr);
  62              		.loc 2 77 2 view .LVU6
  63              		.loc 2 77 9 is_stmt 0 view .LVU7
  64 0010 10F5805F 		cmn	r0, #4096
  65 0014 94BF     		ite	ls
  66 0016 0020     		movls	r0, #0
  67              	.LVL2:
  68              		.loc 2 77 9 view .LVU8
  69 0018 0120     		movhi	r0, #1
  70              	.LVL3:
  71              		.loc 2 77 9 view .LVU9
  72              	.LBE7:
  73              	.LBE6:
  74              		.loc 1 11 8 discriminator 1 view .LVU10
  75 001a 00B9     		cbnz	r0, .L4
  76              	.L1:
  12:./lib/gpio_subsystem.c ****         printk("Failed to open GPIO device\n");
  13:./lib/gpio_subsystem.c ****         return PTR_ERR(gpio_file);
ARM GAS  /tmp/cctqsz9G.s 			page 4


  14:./lib/gpio_subsystem.c ****     }
  15:./lib/gpio_subsystem.c ****     return 0;
  16:./lib/gpio_subsystem.c **** }
  77              		.loc 1 16 1 view .LVU11
  78 001c 08BD     		pop	{r3, pc}
  79              	.L4:
  12:./lib/gpio_subsystem.c ****         printk("Failed to open GPIO device\n");
  80              		.loc 1 12 9 is_stmt 1 view .LVU12
  81 001e 0548     		ldr	r0, .L5+8
  82 0020 FFF7FEFF 		bl	printk
  83              	.LVL4:
  13:./lib/gpio_subsystem.c ****     }
  84              		.loc 1 13 9 view .LVU13
  13:./lib/gpio_subsystem.c ****     }
  85              		.loc 1 13 16 is_stmt 0 view .LVU14
  86 0024 024B     		ldr	r3, .L5+4
  87 0026 1868     		ldr	r0, [r3]
  88              	.LVL5:
  89              	.LBB8:
  90              	.LBI8:
  62:./include/linux/err.h **** {
  91              		.loc 2 62 33 is_stmt 1 view .LVU15
  92              	.LBB9:
  64:./include/linux/err.h **** }
  93              		.loc 2 64 2 view .LVU16
  64:./include/linux/err.h **** }
  94              		.loc 2 64 2 is_stmt 0 view .LVU17
  95              	.LBE9:
  96              	.LBE8:
  13:./lib/gpio_subsystem.c ****     }
  97              		.loc 1 13 16 view .LVU18
  98 0028 F8E7     		b	.L1
  99              	.L6:
 100 002a 00BF     		.align	2
 101              	.L5:
 102 002c 00000000 		.word	.LC0
 103 0030 00000000 		.word	gpio_file
 104 0034 0C000000 		.word	.LC1
 105              		.cfi_endproc
 106              	.LFE962:
 108              		.section	.text.gpio_subsystem_exit,"ax",%progbits
 109              		.align	1
 110              		.global	gpio_subsystem_exit
 111              		.syntax unified
 112              		.thumb
 113              		.thumb_func
 115              	gpio_subsystem_exit:
 116              	.LFB963:
  17:./lib/gpio_subsystem.c **** 
  18:./lib/gpio_subsystem.c **** 
  19:./lib/gpio_subsystem.c **** void gpio_subsystem_exit(void)
  20:./lib/gpio_subsystem.c **** {
 117              		.loc 1 20 1 is_stmt 1 view -0
 118              		.cfi_startproc
 119              		@ args = 0, pretend = 0, frame = 0
 120              		@ frame_needed = 0, uses_anonymous_args = 0
 121 0000 08B5     		push	{r3, lr}
ARM GAS  /tmp/cctqsz9G.s 			page 5


 122              	.LCFI1:
 123              		.cfi_def_cfa_offset 8
 124              		.cfi_offset 3, -8
 125              		.cfi_offset 14, -4
  21:./lib/gpio_subsystem.c ****     if (gpio_file) {
 126              		.loc 1 21 5 view .LVU20
 127              		.loc 1 21 9 is_stmt 0 view .LVU21
 128 0002 054B     		ldr	r3, .L10
 129 0004 1868     		ldr	r0, [r3]
 130              		.loc 1 21 8 view .LVU22
 131 0006 28B1     		cbz	r0, .L7
 132              	.LBB10:
  22:./lib/gpio_subsystem.c ****         filp_close(gpio_file, NULL);
 133              		.loc 1 22 9 is_stmt 1 view .LVU23
 134 0008 0021     		movs	r1, #0
 135 000a FFF7FEFF 		bl	filp_close
 136              	.LVL6:
  23:./lib/gpio_subsystem.c ****         gpio_file = NULL;
 137              		.loc 1 23 9 view .LVU24
 138              		.loc 1 23 19 is_stmt 0 view .LVU25
 139 000e 024B     		ldr	r3, .L10
 140 0010 0022     		movs	r2, #0
 141 0012 1A60     		str	r2, [r3]
 142              	.L7:
 143              	.LBE10:
  24:./lib/gpio_subsystem.c ****     }
  25:./lib/gpio_subsystem.c **** }
 144              		.loc 1 25 1 view .LVU26
 145 0014 08BD     		pop	{r3, pc}
 146              	.L11:
 147 0016 00BF     		.align	2
 148              	.L10:
 149 0018 00000000 		.word	gpio_file
 150              		.cfi_endproc
 151              	.LFE963:
 153              		.section	.rodata.gpio_request.str1.4,"aMS",%progbits,1
 154              		.align	2
 155              	.LC2:
 156 0000 4661696C 		.ascii	"Failed to request GPIO %d: %d\012\000"
 156      65642074 
 156      6F207265 
 156      71756573 
 156      74204750 
 157 001f 00       		.align	2
 158              	.LC3:
 159 0020 52657175 		.ascii	"Requested GPIO %d (%s)\012\000"
 159      65737465 
 159      64204750 
 159      494F2025 
 159      64202825 
 160              		.section	.text.gpio_request,"ax",%progbits
 161              		.align	1
 162              		.global	gpio_request
 163              		.syntax unified
 164              		.thumb
 165              		.thumb_func
 167              	gpio_request:
ARM GAS  /tmp/cctqsz9G.s 			page 6


 168              	.LVL7:
 169              	.LFB964:
  26:./lib/gpio_subsystem.c **** 
  27:./lib/gpio_subsystem.c **** // 请求GPIO
  28:./lib/gpio_subsystem.c **** int gpio_request(unsigned int gpio, const char *label)
  29:./lib/gpio_subsystem.c **** {
 170              		.loc 1 29 1 is_stmt 1 view -0
 171              		.cfi_startproc
 172              		@ args = 0, pretend = 0, frame = 0
 173              		@ frame_needed = 0, uses_anonymous_args = 0
 174              		.loc 1 29 1 is_stmt 0 view .LVU28
 175 0000 70B5     		push	{r4, r5, r6, lr}
 176              	.LCFI2:
 177              		.cfi_def_cfa_offset 16
 178              		.cfi_offset 4, -16
 179              		.cfi_offset 5, -12
 180              		.cfi_offset 6, -8
 181              		.cfi_offset 14, -4
 182 0002 0546     		mov	r5, r0
  30:./lib/gpio_subsystem.c ****     if (!gpio_file) return -ENODEV;
 183              		.loc 1 30 5 is_stmt 1 view .LVU29
 184              		.loc 1 30 9 is_stmt 0 view .LVU30
 185 0004 0D4B     		ldr	r3, .L18
 186 0006 1868     		ldr	r0, [r3]
 187              	.LVL8:
 188              		.loc 1 30 8 view .LVU31
 189 0008 A0B1     		cbz	r0, .L15
 190 000a 0E46     		mov	r6, r1
  31:./lib/gpio_subsystem.c ****     
  32:./lib/gpio_subsystem.c ****     int ret = vfs_ioctl(gpio_file, GPIO_SET_PIN_NUMBER, gpio);
 191              		.loc 1 32 5 is_stmt 1 view .LVU32
 192              		.loc 1 32 15 is_stmt 0 view .LVU33
 193 000c 2A46     		mov	r2, r5
 194 000e 4021     		movs	r1, #64
 195              	.LVL9:
 196              		.loc 1 32 15 view .LVU34
 197 0010 FFF7FEFF 		bl	vfs_ioctl
 198              	.LVL10:
  33:./lib/gpio_subsystem.c ****     if (ret < 0) {
 199              		.loc 1 33 5 is_stmt 1 view .LVU35
 200              		.loc 1 33 8 is_stmt 0 view .LVU36
 201 0014 041E     		subs	r4, r0, #0
 202 0016 07DB     		blt	.L17
  34:./lib/gpio_subsystem.c ****         printk("Failed to request GPIO %d: %d\n", gpio, ret);
  35:./lib/gpio_subsystem.c ****         return ret;
  36:./lib/gpio_subsystem.c ****     }
  37:./lib/gpio_subsystem.c ****     
  38:./lib/gpio_subsystem.c ****     printk("Requested GPIO %d (%s)\n", gpio, label);
 203              		.loc 1 38 5 is_stmt 1 view .LVU37
 204 0018 3246     		mov	r2, r6
 205 001a 2946     		mov	r1, r5
 206 001c 0848     		ldr	r0, .L18+4
 207              	.LVL11:
 208              		.loc 1 38 5 is_stmt 0 view .LVU38
 209 001e FFF7FEFF 		bl	printk
 210              	.LVL12:
  39:./lib/gpio_subsystem.c ****     return 0;
ARM GAS  /tmp/cctqsz9G.s 			page 7


 211              		.loc 1 39 5 is_stmt 1 view .LVU39
 212              		.loc 1 39 12 is_stmt 0 view .LVU40
 213 0022 0024     		movs	r4, #0
 214              	.LVL13:
 215              	.L12:
  40:./lib/gpio_subsystem.c **** }
 216              		.loc 1 40 1 view .LVU41
 217 0024 2046     		mov	r0, r4
 218 0026 70BD     		pop	{r4, r5, r6, pc}
 219              	.LVL14:
 220              	.L17:
  34:./lib/gpio_subsystem.c ****         printk("Failed to request GPIO %d: %d\n", gpio, ret);
 221              		.loc 1 34 9 is_stmt 1 view .LVU42
 222 0028 2246     		mov	r2, r4
 223 002a 2946     		mov	r1, r5
 224 002c 0548     		ldr	r0, .L18+8
 225              	.LVL15:
  34:./lib/gpio_subsystem.c ****         printk("Failed to request GPIO %d: %d\n", gpio, ret);
 226              		.loc 1 34 9 is_stmt 0 view .LVU43
 227 002e FFF7FEFF 		bl	printk
 228              	.LVL16:
  35:./lib/gpio_subsystem.c ****     }
 229              		.loc 1 35 9 is_stmt 1 view .LVU44
  35:./lib/gpio_subsystem.c ****     }
 230              		.loc 1 35 16 is_stmt 0 view .LVU45
 231 0032 F7E7     		b	.L12
 232              	.LVL17:
 233              	.L15:
  30:./lib/gpio_subsystem.c ****     
 234              		.loc 1 30 28 discriminator 1 view .LVU46
 235 0034 6FF01204 		mvn	r4, #18
 236 0038 F4E7     		b	.L12
 237              	.L19:
 238 003a 00BF     		.align	2
 239              	.L18:
 240 003c 00000000 		.word	gpio_file
 241 0040 20000000 		.word	.LC3
 242 0044 00000000 		.word	.LC2
 243              		.cfi_endproc
 244              	.LFE964:
 246              		.section	.rodata.gpio_free.str1.4,"aMS",%progbits,1
 247              		.align	2
 248              	.LC4:
 249 0000 46726565 		.ascii	"Freed GPIO %d\012\000"
 249      64204750 
 249      494F2025 
 249      640A00
 250              		.section	.text.gpio_free,"ax",%progbits
 251              		.align	1
 252              		.global	gpio_free
 253              		.syntax unified
 254              		.thumb
 255              		.thumb_func
 257              	gpio_free:
 258              	.LVL18:
 259              	.LFB965:
  41:./lib/gpio_subsystem.c **** 
ARM GAS  /tmp/cctqsz9G.s 			page 8


  42:./lib/gpio_subsystem.c **** // 释放GPIO
  43:./lib/gpio_subsystem.c **** void gpio_free(unsigned int gpio)
  44:./lib/gpio_subsystem.c **** {
 260              		.loc 1 44 1 is_stmt 1 view -0
 261              		.cfi_startproc
 262              		@ args = 0, pretend = 0, frame = 0
 263              		@ frame_needed = 0, uses_anonymous_args = 0
 264              		.loc 1 44 1 is_stmt 0 view .LVU48
 265 0000 08B5     		push	{r3, lr}
 266              	.LCFI3:
 267              		.cfi_def_cfa_offset 8
 268              		.cfi_offset 3, -8
 269              		.cfi_offset 14, -4
 270 0002 0146     		mov	r1, r0
  45:./lib/gpio_subsystem.c ****     // 在您的实现中可能需要额外的清理工作
  46:./lib/gpio_subsystem.c ****     printk("Freed GPIO %d\n", gpio);
 271              		.loc 1 46 5 is_stmt 1 view .LVU49
 272 0004 0148     		ldr	r0, .L22
 273              	.LVL19:
 274              		.loc 1 46 5 is_stmt 0 view .LVU50
 275 0006 FFF7FEFF 		bl	printk
 276              	.LVL20:
  47:./lib/gpio_subsystem.c **** }
 277              		.loc 1 47 1 view .LVU51
 278 000a 08BD     		pop	{r3, pc}
 279              	.L23:
 280              		.align	2
 281              	.L22:
 282 000c 00000000 		.word	.LC4
 283              		.cfi_endproc
 284              	.LFE965:
 286              		.section	.text.gpio_direction_input,"ax",%progbits
 287              		.align	1
 288              		.global	gpio_direction_input
 289              		.syntax unified
 290              		.thumb
 291              		.thumb_func
 293              	gpio_direction_input:
 294              	.LVL21:
 295              	.LFB966:
  48:./lib/gpio_subsystem.c **** 
  49:./lib/gpio_subsystem.c **** // 设置为输入模式
  50:./lib/gpio_subsystem.c **** int gpio_direction_input(unsigned int gpio)
  51:./lib/gpio_subsystem.c **** {
 296              		.loc 1 51 1 is_stmt 1 view -0
 297              		.cfi_startproc
 298              		@ args = 0, pretend = 0, frame = 0
 299              		@ frame_needed = 0, uses_anonymous_args = 0
 300              		.loc 1 51 1 is_stmt 0 view .LVU53
 301 0000 08B5     		push	{r3, lr}
 302              	.LCFI4:
 303              		.cfi_def_cfa_offset 8
 304              		.cfi_offset 3, -8
 305              		.cfi_offset 14, -4
 306 0002 0246     		mov	r2, r0
  52:./lib/gpio_subsystem.c ****     if (!gpio_file) return -ENODEV;
 307              		.loc 1 52 5 is_stmt 1 view .LVU54
ARM GAS  /tmp/cctqsz9G.s 			page 9


 308              		.loc 1 52 9 is_stmt 0 view .LVU55
 309 0004 044B     		ldr	r3, .L28
 310 0006 1868     		ldr	r0, [r3]
 311              	.LVL22:
 312              		.loc 1 52 8 view .LVU56
 313 0008 18B1     		cbz	r0, .L26
  53:./lib/gpio_subsystem.c ****     return vfs_ioctl(gpio_file, GPIO_INPUT, gpio);
 314              		.loc 1 53 5 is_stmt 1 view .LVU57
 315              		.loc 1 53 12 is_stmt 0 view .LVU58
 316 000a 0121     		movs	r1, #1
 317 000c FFF7FEFF 		bl	vfs_ioctl
 318              	.LVL23:
 319              	.L24:
  54:./lib/gpio_subsystem.c **** }
 320              		.loc 1 54 1 view .LVU59
 321 0010 08BD     		pop	{r3, pc}
 322              	.LVL24:
 323              	.L26:
  52:./lib/gpio_subsystem.c ****     if (!gpio_file) return -ENODEV;
 324              		.loc 1 52 28 discriminator 1 view .LVU60
 325 0012 6FF01200 		mvn	r0, #18
 326 0016 FBE7     		b	.L24
 327              	.L29:
 328              		.align	2
 329              	.L28:
 330 0018 00000000 		.word	gpio_file
 331              		.cfi_endproc
 332              	.LFE966:
 334              		.section	.text.gpio_set_value,"ax",%progbits
 335              		.align	1
 336              		.global	gpio_set_value
 337              		.syntax unified
 338              		.thumb
 339              		.thumb_func
 341              	gpio_set_value:
 342              	.LVL25:
 343              	.LFB968:
  55:./lib/gpio_subsystem.c **** 
  56:./lib/gpio_subsystem.c **** // 设置为输出模式并设置初始值
  57:./lib/gpio_subsystem.c **** int gpio_direction_output(unsigned int gpio, int value)
  58:./lib/gpio_subsystem.c **** {
  59:./lib/gpio_subsystem.c ****     if (!gpio_file) return -ENODEV;
  60:./lib/gpio_subsystem.c ****     
  61:./lib/gpio_subsystem.c ****     int ret = vfs_ioctl(gpio_file, GPIO_OUTPUT, gpio);
  62:./lib/gpio_subsystem.c ****     if (ret < 0) return ret;
  63:./lib/gpio_subsystem.c ****     
  64:./lib/gpio_subsystem.c ****     return gpio_set_value(gpio, value);
  65:./lib/gpio_subsystem.c **** }
  66:./lib/gpio_subsystem.c **** 
  67:./lib/gpio_subsystem.c **** // 设置GPIO值
  68:./lib/gpio_subsystem.c **** int gpio_set_value(unsigned int gpio, int value)
  69:./lib/gpio_subsystem.c **** {
 344              		.loc 1 69 1 is_stmt 1 view -0
 345              		.cfi_startproc
 346              		@ args = 0, pretend = 0, frame = 8
 347              		@ frame_needed = 0, uses_anonymous_args = 0
  70:./lib/gpio_subsystem.c ****     if (!gpio_file) return -ENODEV;
ARM GAS  /tmp/cctqsz9G.s 			page 10


 348              		.loc 1 70 5 view .LVU62
 349              		.loc 1 70 9 is_stmt 0 view .LVU63
 350 0000 0B4B     		ldr	r3, .L39
 351 0002 1868     		ldr	r0, [r3]
 352              	.LVL26:
 353              		.loc 1 70 8 view .LVU64
 354 0004 88B1     		cbz	r0, .L33
  69:./lib/gpio_subsystem.c ****     if (!gpio_file) return -ENODEV;
 355              		.loc 1 69 1 view .LVU65
 356 0006 00B5     		push	{lr}
 357              	.LCFI5:
 358              		.cfi_def_cfa_offset 4
 359              		.cfi_offset 14, -4
 360 0008 83B0     		sub	sp, sp, #12
 361              	.LCFI6:
 362              		.cfi_def_cfa_offset 16
  71:./lib/gpio_subsystem.c ****     
  72:./lib/gpio_subsystem.c ****     char buf[2] = { value ? '1' : '0', 0 };
 363              		.loc 1 72 5 is_stmt 1 view .LVU66
 364              		.loc 1 72 10 is_stmt 0 view .LVU67
 365 000a 61B1     		cbz	r1, .L34
 366              		.loc 1 72 10 discriminator 1 view .LVU68
 367 000c 3123     		movs	r3, #49
 368              	.L32:
 369              		.loc 1 72 10 discriminator 4 view .LVU69
 370 000e 8DF80430 		strb	r3, [sp, #4]
 371 0012 0023     		movs	r3, #0
 372 0014 8DF80530 		strb	r3, [sp, #5]
  73:./lib/gpio_subsystem.c ****     return kernel_write(gpio_file, buf, 1, 0);
 373              		.loc 1 73 5 is_stmt 1 view .LVU70
 374              		.loc 1 73 12 is_stmt 0 view .LVU71
 375 0018 0122     		movs	r2, #1
 376 001a 01A9     		add	r1, sp, #4
 377              	.LVL27:
 378              		.loc 1 73 12 view .LVU72
 379 001c FFF7FEFF 		bl	kernel_write
 380              	.LVL28:
  74:./lib/gpio_subsystem.c **** }
 381              		.loc 1 74 1 view .LVU73
 382 0020 03B0     		add	sp, sp, #12
 383              	.LCFI7:
 384              		.cfi_remember_state
 385              		.cfi_def_cfa_offset 4
 386              		@ sp needed
 387 0022 5DF804FB 		ldr	pc, [sp], #4
 388              	.LVL29:
 389              	.L34:
 390              	.LCFI8:
 391              		.cfi_restore_state
  72:./lib/gpio_subsystem.c ****     return kernel_write(gpio_file, buf, 1, 0);
 392              		.loc 1 72 10 discriminator 2 view .LVU74
 393 0026 3023     		movs	r3, #48
 394 0028 F1E7     		b	.L32
 395              	.L33:
 396              	.LCFI9:
 397              		.cfi_def_cfa_offset 0
 398              		.cfi_restore 14
ARM GAS  /tmp/cctqsz9G.s 			page 11


  70:./lib/gpio_subsystem.c ****     
 399              		.loc 1 70 28 discriminator 1 view .LVU75
 400 002a 6FF01200 		mvn	r0, #18
 401              		.loc 1 74 1 view .LVU76
 402 002e 7047     		bx	lr
 403              	.L40:
 404              		.align	2
 405              	.L39:
 406 0030 00000000 		.word	gpio_file
 407              		.cfi_endproc
 408              	.LFE968:
 410              		.section	.text.gpio_direction_output,"ax",%progbits
 411              		.align	1
 412              		.global	gpio_direction_output
 413              		.syntax unified
 414              		.thumb
 415              		.thumb_func
 417              	gpio_direction_output:
 418              	.LVL30:
 419              	.LFB967:
  58:./lib/gpio_subsystem.c ****     if (!gpio_file) return -ENODEV;
 420              		.loc 1 58 1 is_stmt 1 view -0
 421              		.cfi_startproc
 422              		@ args = 0, pretend = 0, frame = 0
 423              		@ frame_needed = 0, uses_anonymous_args = 0
  58:./lib/gpio_subsystem.c ****     if (!gpio_file) return -ENODEV;
 424              		.loc 1 58 1 is_stmt 0 view .LVU78
 425 0000 38B5     		push	{r3, r4, r5, lr}
 426              	.LCFI10:
 427              		.cfi_def_cfa_offset 16
 428              		.cfi_offset 3, -16
 429              		.cfi_offset 4, -12
 430              		.cfi_offset 5, -8
 431              		.cfi_offset 14, -4
 432 0002 0446     		mov	r4, r0
  59:./lib/gpio_subsystem.c ****     
 433              		.loc 1 59 5 is_stmt 1 view .LVU79
  59:./lib/gpio_subsystem.c ****     
 434              		.loc 1 59 9 is_stmt 0 view .LVU80
 435 0004 084B     		ldr	r3, .L45
 436 0006 1868     		ldr	r0, [r3]
 437              	.LVL31:
  59:./lib/gpio_subsystem.c ****     
 438              		.loc 1 59 8 view .LVU81
 439 0008 58B1     		cbz	r0, .L43
 440 000a 0D46     		mov	r5, r1
  61:./lib/gpio_subsystem.c ****     if (ret < 0) return ret;
 441              		.loc 1 61 5 is_stmt 1 view .LVU82
  61:./lib/gpio_subsystem.c ****     if (ret < 0) return ret;
 442              		.loc 1 61 15 is_stmt 0 view .LVU83
 443 000c 2246     		mov	r2, r4
 444 000e 0221     		movs	r1, #2
 445              	.LVL32:
  61:./lib/gpio_subsystem.c ****     if (ret < 0) return ret;
 446              		.loc 1 61 15 view .LVU84
 447 0010 FFF7FEFF 		bl	vfs_ioctl
 448              	.LVL33:
ARM GAS  /tmp/cctqsz9G.s 			page 12


  62:./lib/gpio_subsystem.c ****     
 449              		.loc 1 62 5 is_stmt 1 view .LVU85
  62:./lib/gpio_subsystem.c ****     
 450              		.loc 1 62 8 is_stmt 0 view .LVU86
 451 0014 0028     		cmp	r0, #0
  62:./lib/gpio_subsystem.c ****     
 452              		.loc 1 62 8 view .LVU87
 453 0016 03DB     		blt	.L41
  64:./lib/gpio_subsystem.c **** }
 454              		.loc 1 64 5 is_stmt 1 view .LVU88
  64:./lib/gpio_subsystem.c **** }
 455              		.loc 1 64 12 is_stmt 0 view .LVU89
 456 0018 2946     		mov	r1, r5
 457 001a 2046     		mov	r0, r4
 458              	.LVL34:
  64:./lib/gpio_subsystem.c **** }
 459              		.loc 1 64 12 view .LVU90
 460 001c FFF7FEFF 		bl	gpio_set_value
 461              	.LVL35:
 462              	.L41:
  65:./lib/gpio_subsystem.c **** 
 463              		.loc 1 65 1 view .LVU91
 464 0020 38BD     		pop	{r3, r4, r5, pc}
 465              	.LVL36:
 466              	.L43:
  59:./lib/gpio_subsystem.c ****     
 467              		.loc 1 59 28 discriminator 1 view .LVU92
 468 0022 6FF01200 		mvn	r0, #18
 469 0026 FBE7     		b	.L41
 470              	.L46:
 471              		.align	2
 472              	.L45:
 473 0028 00000000 		.word	gpio_file
 474              		.cfi_endproc
 475              	.LFE967:
 477              		.section	.text.gpio_get_value,"ax",%progbits
 478              		.align	1
 479              		.global	gpio_get_value
 480              		.syntax unified
 481              		.thumb
 482              		.thumb_func
 484              	gpio_get_value:
 485              	.LVL37:
 486              	.LFB969:
  75:./lib/gpio_subsystem.c **** 
  76:./lib/gpio_subsystem.c **** // 获取GPIO值
  77:./lib/gpio_subsystem.c **** int gpio_get_value(unsigned int gpio)
  78:./lib/gpio_subsystem.c **** {
 487              		.loc 1 78 1 is_stmt 1 view -0
 488              		.cfi_startproc
 489              		@ args = 0, pretend = 0, frame = 8
 490              		@ frame_needed = 0, uses_anonymous_args = 0
  79:./lib/gpio_subsystem.c ****     if (!gpio_file) return -ENODEV;
 491              		.loc 1 79 5 view .LVU94
 492              		.loc 1 79 9 is_stmt 0 view .LVU95
 493 0000 0C4B     		ldr	r3, .L54
 494 0002 1868     		ldr	r0, [r3]
ARM GAS  /tmp/cctqsz9G.s 			page 13


 495              	.LVL38:
 496              		.loc 1 79 8 view .LVU96
 497 0004 98B1     		cbz	r0, .L49
  78:./lib/gpio_subsystem.c ****     if (!gpio_file) return -ENODEV;
 498              		.loc 1 78 1 view .LVU97
 499 0006 00B5     		push	{lr}
 500              	.LCFI11:
 501              		.cfi_def_cfa_offset 4
 502              		.cfi_offset 14, -4
 503 0008 83B0     		sub	sp, sp, #12
 504              	.LCFI12:
 505              		.cfi_def_cfa_offset 16
  80:./lib/gpio_subsystem.c ****     
  81:./lib/gpio_subsystem.c ****     char buf[2] = {0};
 506              		.loc 1 81 5 is_stmt 1 view .LVU98
 507              		.loc 1 81 10 is_stmt 0 view .LVU99
 508 000a 0023     		movs	r3, #0
 509 000c ADF80430 		strh	r3, [sp, #4]	@ movhi
  82:./lib/gpio_subsystem.c ****     int ret = kernel_read(gpio_file, buf, 1, 0);
 510              		.loc 1 82 5 is_stmt 1 view .LVU100
 511              		.loc 1 82 15 is_stmt 0 view .LVU101
 512 0010 0122     		movs	r2, #1
 513 0012 01A9     		add	r1, sp, #4
 514 0014 FFF7FEFF 		bl	kernel_read
 515              	.LVL39:
  83:./lib/gpio_subsystem.c ****     if (ret < 0) return ret;
 516              		.loc 1 83 5 is_stmt 1 view .LVU102
 517              		.loc 1 83 8 is_stmt 0 view .LVU103
 518 0018 0028     		cmp	r0, #0
 519              		.loc 1 83 8 view .LVU104
 520 001a 05DB     		blt	.L47
  84:./lib/gpio_subsystem.c ****     
  85:./lib/gpio_subsystem.c ****     return (buf[0] == '1') ? 1 : 0;
 521              		.loc 1 85 5 is_stmt 1 view .LVU105
 522              		.loc 1 85 16 is_stmt 0 view .LVU106
 523 001c 9DF80400 		ldrb	r0, [sp, #4]	@ zero_extendqisi2
 524              	.LVL40:
 525              		.loc 1 85 32 view .LVU107
 526 0020 3128     		cmp	r0, #49
 527 0022 14BF     		ite	ne
 528 0024 0020     		movne	r0, #0
 529 0026 0120     		moveq	r0, #1
 530              	.L47:
  86:./lib/gpio_subsystem.c **** }
 531              		.loc 1 86 1 view .LVU108
 532 0028 03B0     		add	sp, sp, #12
 533              	.LCFI13:
 534              		.cfi_def_cfa_offset 4
 535              		@ sp needed
 536 002a 5DF804FB 		ldr	pc, [sp], #4
 537              	.LVL41:
 538              	.L49:
 539              	.LCFI14:
 540              		.cfi_def_cfa_offset 0
 541              		.cfi_restore 14
  79:./lib/gpio_subsystem.c ****     
 542              		.loc 1 79 28 discriminator 1 view .LVU109
ARM GAS  /tmp/cctqsz9G.s 			page 14


 543 002e 6FF01200 		mvn	r0, #18
 544              		.loc 1 86 1 view .LVU110
 545 0032 7047     		bx	lr
 546              	.L55:
 547              		.align	2
 548              	.L54:
 549 0034 00000000 		.word	gpio_file
 550              		.cfi_endproc
 551              	.LFE969:
 553              		.section	.text.gpio_set_pull,"ax",%progbits
 554              		.align	1
 555              		.global	gpio_set_pull
 556              		.syntax unified
 557              		.thumb
 558              		.thumb_func
 560              	gpio_set_pull:
 561              	.LVL42:
 562              	.LFB970:
  87:./lib/gpio_subsystem.c **** 
  88:./lib/gpio_subsystem.c **** // 设置上下拉
  89:./lib/gpio_subsystem.c **** int gpio_set_pull(unsigned int gpio, gpio_pull_t pull)
  90:./lib/gpio_subsystem.c **** {
 563              		.loc 1 90 1 is_stmt 1 view -0
 564              		.cfi_startproc
 565              		@ args = 0, pretend = 0, frame = 0
 566              		@ frame_needed = 0, uses_anonymous_args = 0
 567              		.loc 1 90 1 is_stmt 0 view .LVU112
 568 0000 08B5     		push	{r3, lr}
 569              	.LCFI15:
 570              		.cfi_def_cfa_offset 8
 571              		.cfi_offset 3, -8
 572              		.cfi_offset 14, -4
 573 0002 0246     		mov	r2, r0
  91:./lib/gpio_subsystem.c ****     if (!gpio_file) return -ENODEV;
 574              		.loc 1 91 5 is_stmt 1 view .LVU113
 575              		.loc 1 91 9 is_stmt 0 view .LVU114
 576 0004 0A4B     		ldr	r3, .L64
 577 0006 1868     		ldr	r0, [r3]
 578              	.LVL43:
 579              		.loc 1 91 8 view .LVU115
 580 0008 78B1     		cbz	r0, .L61
  92:./lib/gpio_subsystem.c ****     
  93:./lib/gpio_subsystem.c ****     switch (pull) {
 581              		.loc 1 93 5 is_stmt 1 view .LVU116
 582 000a 1029     		cmp	r1, #16
 583 000c 05D0     		beq	.L58
 584 000e 2029     		cmp	r1, #32
 585 0010 07D0     		beq	.L59
  94:./lib/gpio_subsystem.c ****         case GPIO_PULL_UP:   return vfs_ioctl(gpio_file, GPIO_PULL_UP, gpio);
  95:./lib/gpio_subsystem.c ****         case GPIO_PULL_DOWN: return vfs_ioctl(gpio_file, GPIO_PULL_DOWN, gpio);
  96:./lib/gpio_subsystem.c ****         default:             return vfs_ioctl(gpio_file, GPIO_PULL_NONE, gpio);
 586              		.loc 1 96 30 view .LVU117
 587              		.loc 1 96 37 is_stmt 0 view .LVU118
 588 0012 0021     		movs	r1, #0
 589              	.LVL44:
 590              		.loc 1 96 37 view .LVU119
 591 0014 FFF7FEFF 		bl	vfs_ioctl
ARM GAS  /tmp/cctqsz9G.s 			page 15


 592              	.LVL45:
 593              		.loc 1 96 37 view .LVU120
 594 0018 02E0     		b	.L56
 595              	.LVL46:
 596              	.L58:
  94:./lib/gpio_subsystem.c ****         case GPIO_PULL_UP:   return vfs_ioctl(gpio_file, GPIO_PULL_UP, gpio);
 597              		.loc 1 94 30 is_stmt 1 view .LVU121
  94:./lib/gpio_subsystem.c ****         case GPIO_PULL_UP:   return vfs_ioctl(gpio_file, GPIO_PULL_UP, gpio);
 598              		.loc 1 94 37 is_stmt 0 view .LVU122
 599 001a 1021     		movs	r1, #16
 600              	.LVL47:
  94:./lib/gpio_subsystem.c ****         case GPIO_PULL_UP:   return vfs_ioctl(gpio_file, GPIO_PULL_UP, gpio);
 601              		.loc 1 94 37 view .LVU123
 602 001c FFF7FEFF 		bl	vfs_ioctl
 603              	.LVL48:
 604              	.L56:
  97:./lib/gpio_subsystem.c ****     }
  98:./lib/gpio_subsystem.c **** }
 605              		.loc 1 98 1 view .LVU124
 606 0020 08BD     		pop	{r3, pc}
 607              	.LVL49:
 608              	.L59:
  95:./lib/gpio_subsystem.c ****         default:             return vfs_ioctl(gpio_file, GPIO_PULL_NONE, gpio);
 609              		.loc 1 95 30 is_stmt 1 view .LVU125
  95:./lib/gpio_subsystem.c ****         default:             return vfs_ioctl(gpio_file, GPIO_PULL_NONE, gpio);
 610              		.loc 1 95 37 is_stmt 0 view .LVU126
 611 0022 2021     		movs	r1, #32
 612              	.LVL50:
  95:./lib/gpio_subsystem.c ****         default:             return vfs_ioctl(gpio_file, GPIO_PULL_NONE, gpio);
 613              		.loc 1 95 37 view .LVU127
 614 0024 FFF7FEFF 		bl	vfs_ioctl
 615              	.LVL51:
  95:./lib/gpio_subsystem.c ****         default:             return vfs_ioctl(gpio_file, GPIO_PULL_NONE, gpio);
 616              		.loc 1 95 37 view .LVU128
 617 0028 FAE7     		b	.L56
 618              	.LVL52:
 619              	.L61:
  91:./lib/gpio_subsystem.c ****     
 620              		.loc 1 91 28 discriminator 1 view .LVU129
 621 002a 6FF01200 		mvn	r0, #18
 622 002e F7E7     		b	.L56
 623              	.L65:
 624              		.align	2
 625              	.L64:
 626 0030 00000000 		.word	gpio_file
 627              		.cfi_endproc
 628              	.LFE970:
 630              		.section	.text.gpio_set_speed,"ax",%progbits
 631              		.align	1
 632              		.global	gpio_set_speed
 633              		.syntax unified
 634              		.thumb
 635              		.thumb_func
 637              	gpio_set_speed:
 638              	.LVL53:
 639              	.LFB971:
  99:./lib/gpio_subsystem.c **** 
ARM GAS  /tmp/cctqsz9G.s 			page 16


 100:./lib/gpio_subsystem.c **** // 设置速度
 101:./lib/gpio_subsystem.c **** int gpio_set_speed(unsigned int gpio, gpio_speed_t speed)
 102:./lib/gpio_subsystem.c **** {
 640              		.loc 1 102 1 is_stmt 1 view -0
 641              		.cfi_startproc
 642              		@ args = 0, pretend = 0, frame = 0
 643              		@ frame_needed = 0, uses_anonymous_args = 0
 644              		@ link register save eliminated.
 103:./lib/gpio_subsystem.c ****     // 在您的底层驱动中需要实现对应的IOCTL命令
 104:./lib/gpio_subsystem.c ****     return -ENOSYS; // 暂未实现
 645              		.loc 1 104 5 view .LVU131
 105:./lib/gpio_subsystem.c **** }
 646              		.loc 1 105 1 is_stmt 0 view .LVU132
 647 0000 6FF04D00 		mvn	r0, #77
 648              	.LVL54:
 649              		.loc 1 105 1 view .LVU133
 650 0004 7047     		bx	lr
 651              		.cfi_endproc
 652              	.LFE971:
 654              		.section	.text.gpio_set_output_type,"ax",%progbits
 655              		.align	1
 656              		.global	gpio_set_output_type
 657              		.syntax unified
 658              		.thumb
 659              		.thumb_func
 661              	gpio_set_output_type:
 662              	.LVL55:
 663              	.LFB972:
 106:./lib/gpio_subsystem.c **** 
 107:./lib/gpio_subsystem.c **** // 设置输出类型
 108:./lib/gpio_subsystem.c **** int gpio_set_output_type(unsigned int gpio, gpio_output_type_t type)
 109:./lib/gpio_subsystem.c **** {
 664              		.loc 1 109 1 is_stmt 1 view -0
 665              		.cfi_startproc
 666              		@ args = 0, pretend = 0, frame = 0
 667              		@ frame_needed = 0, uses_anonymous_args = 0
 668              		@ link register save eliminated.
 110:./lib/gpio_subsystem.c ****     // 在您的底层驱动中需要实现对应的IOCTL命令
 111:./lib/gpio_subsystem.c ****     return -ENOSYS; // 暂未实现
 669              		.loc 1 111 5 view .LVU135
 112:./lib/gpio_subsystem.c **** }
 670              		.loc 1 112 1 is_stmt 0 view .LVU136
 671 0000 6FF04D00 		mvn	r0, #77
 672              	.LVL56:
 673              		.loc 1 112 1 view .LVU137
 674 0004 7047     		bx	lr
 675              		.cfi_endproc
 676              	.LFE972:
 678              		.section	.text.gpio_set_alt_function,"ax",%progbits
 679              		.align	1
 680              		.global	gpio_set_alt_function
 681              		.syntax unified
 682              		.thumb
 683              		.thumb_func
 685              	gpio_set_alt_function:
 686              	.LVL57:
 687              	.LFB973:
ARM GAS  /tmp/cctqsz9G.s 			page 17


 113:./lib/gpio_subsystem.c **** 
 114:./lib/gpio_subsystem.c **** // 设置复用功能
 115:./lib/gpio_subsystem.c **** int gpio_set_alt_function(unsigned int gpio, gpio_alt_func_t af)
 116:./lib/gpio_subsystem.c **** {
 688              		.loc 1 116 1 is_stmt 1 view -0
 689              		.cfi_startproc
 690              		@ args = 0, pretend = 0, frame = 0
 691              		@ frame_needed = 0, uses_anonymous_args = 0
 692              		.loc 1 116 1 is_stmt 0 view .LVU139
 693 0000 08B5     		push	{r3, lr}
 694              	.LCFI16:
 695              		.cfi_def_cfa_offset 8
 696              		.cfi_offset 3, -8
 697              		.cfi_offset 14, -4
 698 0002 0246     		mov	r2, r0
 117:./lib/gpio_subsystem.c ****     if (!gpio_file) return -ENODEV;
 699              		.loc 1 117 5 is_stmt 1 view .LVU140
 700              		.loc 1 117 9 is_stmt 0 view .LVU141
 701 0004 074B     		ldr	r3, .L72
 702 0006 1868     		ldr	r0, [r3]
 703              	.LVL58:
 704              		.loc 1 117 8 view .LVU142
 705 0008 48B1     		cbz	r0, .L70
 118:./lib/gpio_subsystem.c ****     
 119:./lib/gpio_subsystem.c ****     // 将AF编号放在高16位，GPIO编号在低16位
 120:./lib/gpio_subsystem.c ****     unsigned long arg = ((af & 0xF) << 16) | (gpio & 0xFFFF);
 706              		.loc 1 120 5 is_stmt 1 view .LVU143
 707              		.loc 1 120 37 is_stmt 0 view .LVU144
 708 000a 0904     		lsls	r1, r1, #16
 709              	.LVL59:
 710              		.loc 1 120 37 view .LVU145
 711 000c 01F47021 		and	r1, r1, #983040
 712              		.loc 1 120 52 view .LVU146
 713 0010 92B2     		uxth	r2, r2
 714              	.LVL60:
 121:./lib/gpio_subsystem.c ****     return vfs_ioctl(gpio_file, GPIO_SET_AF, arg);
 715              		.loc 1 121 5 is_stmt 1 view .LVU147
 716              		.loc 1 121 12 is_stmt 0 view .LVU148
 717 0012 0A43     		orrs	r2, r2, r1
 718              	.LVL61:
 719              		.loc 1 121 12 view .LVU149
 720 0014 4FF48071 		mov	r1, #256
 721 0018 FFF7FEFF 		bl	vfs_ioctl
 722              	.LVL62:
 723              	.L68:
 122:./lib/gpio_subsystem.c **** }
 724              		.loc 1 122 1 view .LVU150
 725 001c 08BD     		pop	{r3, pc}
 726              	.LVL63:
 727              	.L70:
 117:./lib/gpio_subsystem.c ****     
 728              		.loc 1 117 28 discriminator 1 view .LVU151
 729 001e 6FF01200 		mvn	r0, #18
 730 0022 FBE7     		b	.L68
 731              	.L73:
 732              		.align	2
 733              	.L72:
ARM GAS  /tmp/cctqsz9G.s 			page 18


 734 0024 00000000 		.word	gpio_file
 735              		.cfi_endproc
 736              	.LFE973:
 738              		.section	.bss.gpio_file,"aw",%nobits
 739              		.align	2
 742              	gpio_file:
 743 0000 00000000 		.space	4
 744              		.text
 745              	.Letext0:
 746              		.file 3 "./include/asm-generic/int-l64.h"
 747              		.file 4 "./include/asm-generic/posix_types.h"
 748              		.file 5 "./include/uapi/linux/types.h"
 749              		.file 6 "./include/linux/types.h"
 750              		.file 7 "./include/linux/gpio_subsystem.h"
 751              		.file 8 "./include/linux/errseq.h"
 752              		.file 9 "./include/linux/time64.h"
 753              		.file 10 "./arch/arm_m/include/asm/spinlock.h"
 754              		.file 11 "./include/linux/spinlock_types_raw.h"
 755              		.file 12 "./include/linux/spinlock_types.h"
 756              		.file 13 "./include/linux/rbtree_types.h"
 757              		.file 14 "./include/linux/uidgid_types.h"
 758              		.file 15 "./include/linux/projid.h"
 759              		.file 16 "./include/linux/fs.h"
 760              		.file 17 "./include/linux/mnt_idmapping.h"
 761              		.file 18 "./include/linux/mutex.h"
 762              		.file 19 "./include/linux/uio.h"
 763              		.file 20 "./include/linux/wait.h"
 764              		.file 21 "./include/linux/xarray.h"
 765              		.file 22 "./include/linux/migrate_mode.h"
 766              		.file 23 "./include/linux/rw_hint.h"
 767              		.file 24 "./include/linux/reciprocal_div.h"
 768              		.file 25 "./include/linux/slab.h"
 769              		.file 26 "./include/linux/mm_type.h"
 770              		.file 27 "./include/linux/bvec.h"
 771              		.file 28 "./include/linux/blk_types.h"
 772              		.file 29 "./include/linux/blkdev.h"
 773              		.file 30 "./include/linux/bio.h"
 774              		.file 31 "./include/linux/mempool_super_haper.h"
 775              		.file 32 "./include/linux/mempool.h"
 776              		.file 33 "./include/linux/lockdep_types.h"
 777              		.file 34 "./include/linux/workqueue_types.h"
 778              		.file 35 "./include/linux/blk-mq.h"
 779              		.file 36 "./include/linux/dcache.h"
 780              		.file 37 "./include/uapi/linux/pr.h"
 781              		.file 38 "./include/linux/pr.h"
 782              		.file 39 "./include/linux/hdreg.h"
 783              		.file 40 "./include/linux/lockref.h"
 784              		.file 41 "./include/linux/path.h"
 785              		.file 42 "./include/linux/statfs.h"
 786              		.file 43 "./include/linux/stat.h"
 787              		.file 44 "./include/linux/printk.h"
ARM GAS  /tmp/cctqsz9G.s 			page 19


DEFINED SYMBOLS
                            *ABS*:00000000 gpio_subsystem.c
     /tmp/cctqsz9G.s:21     .rodata.gpio_subsystem_init.str1.4:00000000 $d
     /tmp/cctqsz9G.s:28     .text.gpio_subsystem_init:00000000 $t
     /tmp/cctqsz9G.s:34     .text.gpio_subsystem_init:00000000 gpio_subsystem_init
     /tmp/cctqsz9G.s:102    .text.gpio_subsystem_init:0000002c $d
     /tmp/cctqsz9G.s:742    .bss.gpio_file:00000000 gpio_file
     /tmp/cctqsz9G.s:109    .text.gpio_subsystem_exit:00000000 $t
     /tmp/cctqsz9G.s:115    .text.gpio_subsystem_exit:00000000 gpio_subsystem_exit
     /tmp/cctqsz9G.s:149    .text.gpio_subsystem_exit:00000018 $d
     /tmp/cctqsz9G.s:154    .rodata.gpio_request.str1.4:00000000 $d
     /tmp/cctqsz9G.s:161    .text.gpio_request:00000000 $t
     /tmp/cctqsz9G.s:167    .text.gpio_request:00000000 gpio_request
     /tmp/cctqsz9G.s:240    .text.gpio_request:0000003c $d
     /tmp/cctqsz9G.s:247    .rodata.gpio_free.str1.4:00000000 $d
     /tmp/cctqsz9G.s:251    .text.gpio_free:00000000 $t
     /tmp/cctqsz9G.s:257    .text.gpio_free:00000000 gpio_free
     /tmp/cctqsz9G.s:282    .text.gpio_free:0000000c $d
     /tmp/cctqsz9G.s:287    .text.gpio_direction_input:00000000 $t
     /tmp/cctqsz9G.s:293    .text.gpio_direction_input:00000000 gpio_direction_input
     /tmp/cctqsz9G.s:330    .text.gpio_direction_input:00000018 $d
     /tmp/cctqsz9G.s:335    .text.gpio_set_value:00000000 $t
     /tmp/cctqsz9G.s:341    .text.gpio_set_value:00000000 gpio_set_value
     /tmp/cctqsz9G.s:406    .text.gpio_set_value:00000030 $d
     /tmp/cctqsz9G.s:411    .text.gpio_direction_output:00000000 $t
     /tmp/cctqsz9G.s:417    .text.gpio_direction_output:00000000 gpio_direction_output
     /tmp/cctqsz9G.s:473    .text.gpio_direction_output:00000028 $d
     /tmp/cctqsz9G.s:478    .text.gpio_get_value:00000000 $t
     /tmp/cctqsz9G.s:484    .text.gpio_get_value:00000000 gpio_get_value
     /tmp/cctqsz9G.s:549    .text.gpio_get_value:00000034 $d
     /tmp/cctqsz9G.s:554    .text.gpio_set_pull:00000000 $t
     /tmp/cctqsz9G.s:560    .text.gpio_set_pull:00000000 gpio_set_pull
     /tmp/cctqsz9G.s:626    .text.gpio_set_pull:00000030 $d
     /tmp/cctqsz9G.s:631    .text.gpio_set_speed:00000000 $t
     /tmp/cctqsz9G.s:637    .text.gpio_set_speed:00000000 gpio_set_speed
     /tmp/cctqsz9G.s:655    .text.gpio_set_output_type:00000000 $t
     /tmp/cctqsz9G.s:661    .text.gpio_set_output_type:00000000 gpio_set_output_type
     /tmp/cctqsz9G.s:679    .text.gpio_set_alt_function:00000000 $t
     /tmp/cctqsz9G.s:685    .text.gpio_set_alt_function:00000000 gpio_set_alt_function
     /tmp/cctqsz9G.s:734    .text.gpio_set_alt_function:00000024 $d
     /tmp/cctqsz9G.s:739    .bss.gpio_file:00000000 $d

UNDEFINED SYMBOLS
filp_open
printk
filp_close
vfs_ioctl
kernel_write
kernel_read
